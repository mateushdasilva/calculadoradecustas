<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Custas</title>
    
    <!--Personalização-->
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f9fc;
        }

        header {
            background-color: #218838;
            color: white;
            padding: 10px;
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-size: 2em;
        }

        .logotipo {
            padding: 10px;
            display: flex;
            margin: 0 auto 0px; 
            max-width: 300px;
        }

        .container {
            display: block;
            max-width: 500px;
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        button {
            padding: 12px 20px;
            background-color: #218838;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 1.1em;
        }

        button:hover {
            background-color: #218838;
        }

        .result {
            text-align: center;
            font-size: 1.3em;
            font-weight: bolder;
            margin-top: 30px;
            padding: 5px;
            background-color: #e7f7e7;
            border: 1px solid #c7f0c7;
            border-radius: 6px;
            color: #3c763d;
        }

        .result2 {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 30px;
            padding: 5px;
            background-color: #e7f7e7;
            border: 1px solid #c7f0c7;
            border-radius: 6px;
            color: #000000;
        }
    
         
        .footer {
            text-align: center;
            margin-top: 0px;
            font-size: 0.9em;
            font-weight: bold;
            color: #000000;
            background-color: #f2f2f2;
            padding: 0px;
            border-radius: 8px;
        }

        #campo_divida {
            margin-top: 20px;
        }

    </style>
</head>
<body>

    <header>
        <h1>Simulador de Custas</h1>
    </header>
    <div class="container">
        <form id="simuladorForm">
            <label for="tipo_servico">Selecione o Tipo de Serviço</label>
            <select id="tipo_servico" required onchange="mostrarCampos()">
                <option value="inicio">Escolha o tipo de registro/averbação</option>
                <option value="registro">Escritura pública de Compra e venda</option>
                <option value="contrato">Contrato de Compra e Venda com Alienação</option>
                <option value="doacao">Escritura Pública de Doação</option>
                <option value="doacaousuf">Escritura Pública de Doação com Usufruto</option>
                <option value="formal">Formal de Partilha</option>
                <option value="retificacaoarearural">Retificação de Área de Imóvel Rural</option>
                <option value="retificacaoareaurbano">Retificação de Área de Imóvel Urbano</option>
                <option value="desmembramentourbano">Desmembramento de imóvel urbano</option>
                <option value="desmembramentorural">Desmembramento de imóvel rural</option>
            </select>
            <br><br>
             <!-- Campo select número de glebas -->
            <div id="campoSelectGlebas" style="display: none;">
                <label for="numero_areas">Selecione o número de áreas desmembradas</label>
                <select id="numero_areas" required onchange="mostrarCampos()">
                <option value="inicio">Selecione</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
            </div>
            <!-- Campo valor do imóvel -->
            <div id="campo_imovel" style="display: none;">
                <label for="valor_imovel">Valor do Imóvel (R$)</label>
                <input type="text" id="valor_imovel" required placeholder="Informe o valor do imóvel" oninput="formatarMoeda(this)">
            </div>
            <!-- Campo valor da dívida -->
            <div id="campo_divida" style="display: none;">
                <label for="valor_divida">Valor da Dívida (R$)</label>
                <input type="text" id="valor_divida" required placeholder="Informe o valor da dívida" oninput="formatarMoeda(this)">
            </div>
            <!-- Campo valor da gleba/área 1 -->
            <div id="campo_valor1" style="display: none;">
                <label for="valor_1">Valor do Lote/Gleba/Área - 1 (R$)</label>
                <input type="text" id="valor_1" required placeholder="Informe o valor do lote/gleba/área 1" oninput="formatarMoeda(this)">
            </div>
             <!-- Campo valor da gleba/área 2 -->
             <div id="campo_valor2" style="display: none;">
                <label for="valor_2">Valor do Lote/Gleba/Área - 2 (R$)</label>
                <input type="text" id="valor_2" required placeholder="Informe o valor do lote/gleba/área 2" oninput="formatarMoeda(this)">
            </div>
            <!-- Campo valor da gleba/área 3 -->
            <div id="campo_valor3" style="display: none;">
                <label for="valor_3">Valor do Lote/Gleba/Área - 3 (R$)</label>
                <input type="text" id="valor_3" required placeholder="Informe o valor do lote/gleba/área 3" oninput="formatarMoeda(this)">
            </div>
             <!-- Campo valor da gleba/área 4 -->
             <div id="campo_valor4" style="display: none;">
                <label for="valor_4">Valor do Lote/Gleba/Área - 4 (R$)</label>
                <input type="text" id="valor_4" required placeholder="Informe o valor do lote/gleba/área 4" oninput="formatarMoeda(this)">
            </div>
            <!-- Botão Calcular -->
            <button type="button" onclick="calcularCustos()">Calcular</button>
        </form>
        <!-- Divs de resultados -->
        <div class="result" id="resultado" style="display: none;"></div>
        <div class="result2" id="resultado2" style="display: none;"></div>
    </div>


    <div class="footer">
        <p><b>Observações importantes:</b> <br>
            <b>1 -</b> Os valores da simulação são estimativos, podendo haver alterações após a análise dos documentos, em decorrência dos atos a serem praticados;<br>
            <b>2 –</b> Foi incluído nesta simulação o valor relativo ao ISSQN com a alíquota de 4%, podendo haver alteração deste valor em determinados Municípios;<br>
            <b>3 –</b> Não foram incluídos, nesta simulação, eventuais descontos e isenções previstos em lei;</p>
    </div>

    <script>
        
        // Exibe os campos de acordo com o tipo do serviço
        function mostrarCampos() {
            const tipoServico = document.getElementById('tipo_servico').value;
            const campoGlebas = document.getElementById('campoSelectGlebas');
            const campoGlebasValor = document.getElementById('numero_areas').value;
            const campoImovel = document.getElementById('campo_imovel');
            const campoDivida = document.getElementById('campo_divida');
            const campoValor1 = document.getElementById('campo_valor1');
            const campoValor2 = document.getElementById('campo_valor2');
            const campoValor3 = document.getElementById('campo_valor3');
            const campoValor4 = document.getElementById('campo_valor4');
            const result = document.getElementById('resultado');
            const result2 = document.getElementById('resultado2');
            switch (tipoServico) {
                case 'inicio':
                    result.style.display = 'none';
                    result2.style.display = 'none';    
                    campoImovel.style.display = 'none';                    
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break
                case 'registro':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'block';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break;
                case 'contrato':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'block';
                    campoDivida.style.display = 'block';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break;
                case 'doacao':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'block';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break;
                case 'doacaousuf':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'block';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break;
                case 'formal':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'block';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break;   
                case 'retificacaoarearural':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'block';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break;
                case 'retificacaoareaurbano':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'block';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'none';
                    campoValor1.style.display = 'none';
                    campoValor2.style.display = 'none';
                    campoValor3.style.display = 'none';
                    campoValor4.style.display = 'none';
                    break;
                case 'desmembramentourbano':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'none';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'block';
                    switch (campoGlebasValor){
                        case 'inicio':
                            campoValor1.style.display = 'none';    
                            campoValor2.style.display = 'none';
                            campoValor3.style.display = 'none';
                            campoValor4.style.display = 'none';
                        break;
                        case '2':
                            campoValor1.style.display = 'block';
                            campoValor2.style.display = 'block';
                            campoValor3.style.display = 'none';
                            campoValor4.style.display = 'none';
                        break;
                        case '3':
                            campoValor1.style.display = 'block';
                            campoValor2.style.display = 'block';
                            campoValor3.style.display = 'block';
                            campoValor4.style.display = 'none';
                        break;
                        case '4':
                            campoValor1.style.display = 'block';
                            campoValor2.style.display = 'block';
                            campoValor3.style.display = 'block';
                            campoValor4.style.display = 'block';
                        break;
                    }
                break;
                case 'desmembramentorural':
                    result.style.display = 'none';
                    result2.style.display = 'none';
                    campoImovel.style.display = 'none';
                    campoDivida.style.display = 'none';
                    campoGlebas.style.display = 'block';
                    switch (campoGlebasValor){
                        case 'inicio':
                            campoValor1.style.display = 'none';    
                            campoValor2.style.display = 'none';
                            campoValor3.style.display = 'none';
                            campoValor4.style.display = 'none';
                        break;
                        case '2':
                            campoValor1.style.display = 'block';
                            campoValor2.style.display = 'block';
                            campoValor3.style.display = 'none';
                            campoValor4.style.display = 'none';
                        break;
                        case '3':
                            campoValor1.style.display = 'block';
                            campoValor2.style.display = 'block';
                            campoValor3.style.display = 'block';
                            campoValor4.style.display = 'none';
                        break;
                        case '4':
                            campoValor1.style.display = 'block';
                            campoValor2.style.display = 'block';
                            campoValor3.style.display = 'block';
                            campoValor4.style.display = 'block';
                        break;
                    }
                break;
                
            }
        }

        // Função para formatar valores como moeda brasileira
        function formatarMoeda(input) {
        let valor = input.value;
        
        // Remove tudo que não é número
        valor = valor.replace(/\D/g, "");

        // Converte para formato de moeda
        valor = (parseFloat(valor) / 100).toLocaleString("pt-BR", {
            style: "currency",
            currency: "BRL",
        });

        // Remove o símbolo "R$" para edição
        input.value = valor.replace("R$", "").trim();
        }    

        // Função para obter o valor numérico de um campo formatado
        function obterValorNumerico(input) {
        // Remove os separadores e converte para número
        return parseFloat(input.value.replace(/\./g, "").replace(",", ".") || "0");
        }
        
        // Função para calcular os custos totais
        function calcularCustos() {
            // Obtendo valores do formulário
            const tipoServico = document.getElementById('tipo_servico').value;
            const campoGlebasValor = document.getElementById('numero_areas').value;
            const valorImovel = obterValorNumerico(document.getElementById('valor_imovel'));
            const valorgleba1 = obterValorNumerico(document.getElementById('valor_1'));
            const valorgleba2 = obterValorNumerico(document.getElementById('valor_2'));
            const valorgleba3 = obterValorNumerico(document.getElementById('valor_3'));
            const valorgleba4 = obterValorNumerico(document.getElementById('valor_4'));
            const result = document.getElementById('resultado');
            const result2 = document.getElementById('resultado2');
            let valorDivida = 0;

            // Tabela de emolumentos 5e (valores estimados de custos)
            const faixasEmolumentos5e = [
            { limite: 1400, valores: [216.43] },
            { limite: 2720, valores: [353.03] },
            { limite: 5440, valores: [511.61] },
            { limite: 7000, valores: [708.25] },
            { limite: 14000, valores: [944.49] },
            { limite: 28000, valores: [1220.24] },
            { limite: 42000, valores: [1534.84] },
            { limite: 56000, valores: [1889.32] },
            { limite: 70000, valores: [2283.03] },
            { limite: 105000, valores: [2873.33] },
            { limite: 140000, valores: [3646.71] },
            { limite: 175000, valores: [3899.70] },
            { limite: 210000, valores: [4153.12] },
            { limite: 280000, valores: [4669.40] },
            { limite: 350000, valores: [4798.03] },
            { limite: 420000, valores: [4927.24] },
            { limite: 560000, valores: [5396.08] },
            { limite: 700000, valores: [5692.65] },
            { limite: 840000, valores: [5989.82] },
            { limite: 1120000, valores: [6699.21] },
            { limite: 1400000, valores: [7256.41] },
            { limite: 1680000, valores: [7814.56] },
            { limite: 3200000, valores: [8373.83] },
            { limite: Infinity, valores: [10467.62] }
            ];

            // Tabela de emolumentos 1c (valores estimados de custos)
            const faixasEmolumentos1c = [
            { limite: 1400, valores: [108.21] },
            { limite: 2720, valores: [176.52] },
            { limite: 5440, valores: [255.80] },
            { limite: 7000, valores: [354.12] },
            { limite: 14000, valores: [472.24] },
            { limite: 28000, valores: [610.12] },
            { limite: 42000, valores: [767.42] },
            { limite: 56000, valores: [944.66] },
            { limite: 70000, valores: [1141.52] },
            { limite: 105000, valores: [1436.67] },
            { limite: 140000, valores: [1823.35] },
            { limite: 175000, valores: [1949.85] },
            { limite: 210000, valores: [2076.57] },
            { limite: 280000, valores: [2334.70] },
            { limite: 350000, valores: [2399.02] },
            { limite: 420000, valores: [2463.62] },
            { limite: 560000, valores: [2698.04] },
            { limite: 700000, valores: [2846.33] },
            { limite: 840000, valores: [2994.91] },
            { limite: 1120000, valores: [3349.61] },
            { limite: 1400000, valores: [3628.20] },
            { limite: 1680000, valores: [3907.28] },
            { limite: 3200000, valores: [4186.92] },
            { limite: Infinity, valores: [5233.81] }
            ];
            

            let emolumentoImovel = 0;
            let emolumentoDivida = 0;
            let emolumentoUsuf = 0;
            let emolumentogleba1 =0;
            let emolumentogleba2 =0;
            let emolumentogleba3 =0;
            let emolumentogleba4 =0;
            let emolumentoFinal = 0;

            // Se o tipo de serviço for "contrato", incluir o valor da dívida no cálculo
            if (tipoServico === 'contrato') {       
                // Inicializar a visibilidade do campo de dívida
                //mostrarCampos();
                const valorDividaInput = obterValorNumerico(document.getElementById('valor_divida'));

                // Validação de entrada do valor do imóvel
                if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                // Validação de entrada para o valor da dívida
                if (!valorDividaInput || isNaN(valorDividaInput) || valorDividaInput <= 0) {
                    alert("Por favor, insira um valor válido para a dívida.");
                    return;
                }

                valorDivida = parseFloat(valorDividaInput);

                // Calcular emolumento da dívida
                for (let faixa of faixasEmolumentos5e) {
                    if (valorDivida <= faixa.limite) {
                        emolumentoDivida += faixa.valores[0];
                        break;
                    }
                }

                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos5e) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                }
                
                let prenotacao = 62.89;
                let arquivamento = 206.80;
                let certidao = 40.34;
                emolumentoFinal = emolumentoImovel + emolumentoDivida + prenotacao + arquivamento + certidao;
                document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Registro da compra e venda: R$ ${emolumentoImovel.toFixed(2)}<br>Registro da alienação: R$ ${emolumentoDivida.toFixed(2)}<br>20 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Certidão: R$ ${certidao.toFixed(2)}`;

            }

            // Se o tipo de serviço for "doação com usufruto",    
            if (tipoServico === 'doacaousuf') {
                   // Validação de entrada do valor do imóvel
                if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                
                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos5e) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                } 
                const valorUsufInput = (valorImovel/3)
                valorUsuf = parseFloat(valorUsufInput);

                // Calcular emolumento do usufruto
                for (let faixa of faixasEmolumentos5e) {
                    if (valorUsuf<= faixa.limite) {
                        emolumentoUsuf += faixa.valores[0];
                        break;
                    }
                }
            }

            // Se registro igual compra e venda
            if (tipoServico === 'registro') {
                // Validação de entrada do valor do imóvel
                if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                
                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos5e) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                } 
                let prenotacao = 62.89;
                let arquivamento = 131.90;
                let certidao = 40.34;
                emolumentoFinal = emolumentoImovel + prenotacao + arquivamento + certidao;
                document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Registro da compra e venda: R$ ${emolumentoImovel.toFixed(2)}<br>10 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Certidão: R$ ${certidao.toFixed(2)}`;
            }

            // se registro igual doação
            if (tipoServico === 'doacao') {
                // Validação de entrada do valor do imóvel
                if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                
                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos5e) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                } 
                let prenotacao = 62.89;
                let arquivamento = 131.90;
                let certidao = 40.34;
                emolumentoFinal = emolumentoImovel + prenotacao + arquivamento + certidao;
                document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Registro da doação: R$ ${emolumentoImovel.toFixed(2)}<br>10 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Certidão: R$ ${certidao.toFixed(2)}`;
            }

            // se registro igual doação com usufruto
            if (tipoServico === 'doacaousuf') {
                // Validação de entrada do valor do imóvel
                if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos5e) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                } 
                let prenotacao = 62.89;
                let arquivamento = 197.85;
                let certidao = 40.34;
                emolumentoFinal = emolumentoImovel + emolumentoUsuf + prenotacao + arquivamento + certidao;
                document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Registro da compra e venda: R$ ${emolumentoImovel.toFixed(2)}<br>Registro do usufruto: R$ ${emolumentoUsuf.toFixed(2)}<br>15 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Certidão: R$ ${certidao.toFixed(2)}`;
            }
            
            // se registro igual formal de partilha
            if (tipoServico === 'formal') {
                // Validação de entrada do valor do imóvel
                  if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos5e) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                } 
                let prenotacao = 62.89;
                let arquivamento = 527.60;
                let certidao = 40.34;
                emolumentoFinal = emolumentoImovel + prenotacao + arquivamento + certidao;
                document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Registro do inventário/partilha: R$ ${emolumentoImovel.toFixed(2)}<br>40 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Certidão: R$ ${certidao.toFixed(2)}`;
            }

            // se registro igual retificação de área de imóvel rural
            if (tipoServico === 'retificacaoarearural') {
                // Validação de entrada do valor do imóvel
                if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos1c) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                } 
                let prenotacao = 62.89;
                let arquivamento = 527.60;
                let certidao = 40.34;
                let abertura = 89.66;
                let encerramento = 89.66;
                let certificacao = 35.65;
                emolumentoFinal = emolumentoImovel + prenotacao + arquivamento + certidao + abertura + encerramento + certificacao;
                document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação da Retificação de área: R$ ${emolumentoImovel.toFixed(2)}<br>40 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Encerramento da matrícula: R$ ${encerramento.toFixed(2)}<br>Abertura da nova matrícula: R$ ${abertura.toFixed(2)}<br> Certificação do Incra: R$ ${certificacao.toFixed(2)} <br>Certidão: R$ ${certidao.toFixed(2)}`;
            }

            // se registro igual retificação de área de imóvel urbano
            if (tipoServico === 'retificacaoareaurbano') {
                // Validação de entrada do valor do imóvel
                if (isNaN(valorImovel) || valorImovel <= 0) {
                    alert("Por favor, insira um valor válido para o imóvel.");
                    return;
                }
                // Calcular emolumento com base no valor do imóvel
                for (let faixa of faixasEmolumentos1c) {
                    if (valorImovel <= faixa.limite) {
                    emolumentoImovel = faixa.valores[0];
                    break;
                }
                } 
                let prenotacao = 62.89;
                let arquivamento = 395.70;
                let certidao = 40.34;
                let abertura = 89.66;
                emolumentoFinal = emolumentoImovel + prenotacao + arquivamento + certidao + abertura;
                document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação da Retificação de área: R$ ${emolumentoImovel.toFixed(2)}<br>30 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Abertura da nova matrícula: R$ ${abertura.toFixed(2)}<br>Certidão: R$ ${certidao.toFixed(2)}`;
            }
            
            // se registro igual desmembramento de imóvel urbano
            if (tipoServico === 'desmembramentourbano' || tipoServico === 'desmembramentorural') {
                
                // Validação de entrada do valor da gleba 1
                if (isNaN(valorgleba1) || valorgleba1 <= 0) {
                    alert("Por favor, insira um valor válido para a gleba 1");
                    return;
                }
                // Calcular emolumento da gleba 1
                for (let faixa of faixasEmolumentos1c) {
                    if (valorgleba1 <= faixa.limite) {
                    emolumentogleba1 = faixa.valores[0];
                    break;
                }
                } 

                switch (campoGlebasValor){
                        case '2':
                            // Validação de entrada do valor da gleba 2
                            if (isNaN(valorgleba2) || valorgleba2 <= 0) {
                                alert("Por favor, insira um valor válido para a gleba 2");
                                return;
                            }
                            // Calcular emolumento da gleba 2
                            for (let faixa of faixasEmolumentos1c) {
                                if (valorgleba2 <= faixa.limite) {
                                emolumentogleba2 = faixa.valores[0];
                                break;
                            }
                            }   
                        break;
                        case '3':
                           // Validação de entrada do valor da gleba 2
                           if (isNaN(valorgleba2) || valorgleba2 <= 0) {
                                alert("Por favor, insira um valor válido para a gleba 2");
                                return;
                            }
                            // Calcular emolumento da gleba 2
                            for (let faixa of faixasEmolumentos1c) {
                                if (valorgleba2 <= faixa.limite) {
                                emolumentogleba2 = faixa.valores[0];
                                break;
                            }
                            }   
                                // Validação de entrada do valor da gleba 3
                           if (isNaN(valorgleba3) || valorgleba3 <= 0) {
                                alert("Por favor, insira um valor válido para a gleba 3");
                                return;
                            }
                            // Calcular emolumento da gleba 3
                            for (let faixa of faixasEmolumentos1c) {
                                if (valorgleba3 <= faixa.limite) {
                                emolumentogleba3 = faixa.valores[0];
                                break;
                            }
                            } 
                        break;
                        case '4':
                             // Validação de entrada do valor da gleba 2
                           if (isNaN(valorgleba2) || valorgleba2 <= 0) {
                                alert("Por favor, insira um valor válido para a gleba 2");
                                return;
                            }
                            // Calcular emolumento da gleba 2
                            for (let faixa of faixasEmolumentos1c) {
                                if (valorgleba2 <= faixa.limite) {
                                emolumentogleba2 = faixa.valores[0];
                                break;
                            }
                            }   
                                // Validação de entrada do valor da gleba 3
                           if (isNaN(valorgleba3) || valorgleba3 <= 0) {
                                alert("Por favor, insira um valor válido para a gleba 3");
                                return;
                            }
                            // Calcular emolumento da gleba 3
                            for (let faixa of faixasEmolumentos1c) {
                                if (valorgleba3 <= faixa.limite) {
                                emolumentogleba3 = faixa.valores[0];
                                break;
                            }
                            } 
                                  // Validação de entrada do valor da gleba 4
                           if (isNaN(valorgleba4) || valorgleba4 <= 0) {
                                alert("Por favor, insira um valor válido para a gleba 4");
                                return;
                            }
                            // Calcular emolumento da gleba 4
                            for (let faixa of faixasEmolumentos1c) {
                                if (valorgleba4 <= faixa.limite) {
                                emolumentogleba4 = faixa.valores[0];
                                break;
                            }
                            } 
                        break;
                    }

                let prenotacao = 62.89;
                let arquivamento = 395.70;
                let desmembramento = 35.65;
                let certidao = 40.34;
                let abertura = 89.66;
                let certificacao = 35.65;
                
                
                switch (campoGlebasValor){
                    case '2':
                        certidao = certidao * 2;
                        abertura = abertura * 2;
                        if (tipoServico === 'desmembramentourbano'){
                            emolumentoFinal = emolumentogleba1 + emolumentogleba2 + prenotacao + arquivamento + certidao + abertura + desmembramento;
                            document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                            document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação do desmembramento: R$ ${desmembramento.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 1: R$ ${emolumentogleba1.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 2: R$ ${emolumentogleba2.toFixed(2)}<br>30 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Abertura das novas matrículas: R$ ${abertura.toFixed(2)}<br>Certidões: R$ ${certidao.toFixed(2)}`;
                        } 
                        if (tipoServico === 'desmembramentorural'){
                            emolumentoFinal = emolumentogleba1 + emolumentogleba2 + prenotacao + arquivamento + certidao + abertura + desmembramento + certificacao;
                            document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`;
                            document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação do desmembramento: R$ ${desmembramento.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 1: R$ ${emolumentogleba1.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 2: R$ ${emolumentogleba2.toFixed(2)}<br>30 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Abertura das novas matrículas: R$ ${abertura.toFixed(2)}<br>Certificação do INCRA: R$ ${certificacao.toFixed(2)}<br>Certidões: R$ ${certidao.toFixed(2)}`;
                        }                      
                        
                    break;
                    case '3':
                        certidao = certidao * 3;
                        abertura = abertura * 3;
                        if (tipoServico === 'desmembramentourbano'){
                            emolumentoFinal = emolumentogleba1 + emolumentogleba2 + emolumentogleba3 + prenotacao + arquivamento + certidao + abertura + desmembramento; 
                            document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`; 
                            document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação do desmembramento: R$ ${desmembramento.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 1: R$ ${emolumentogleba1.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 2: R$ ${emolumentogleba2.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 3: R$ ${emolumentogleba3.toFixed(2)}<br>30 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Abertura das novas matrículas: R$ ${abertura.toFixed(2)}<br>Certidões: R$ ${certidao.toFixed(2)}`;
                        }
                        if (tipoServico === 'desmembramentorural'){
                            emolumentoFinal = emolumentogleba1 + emolumentogleba2 + emolumentogleba3 + prenotacao + arquivamento + certidao + abertura + desmembramento + certificacao; 
                            document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`; 
                            document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação do desmembramento: R$ ${desmembramento.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 1: R$ ${emolumentogleba1.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 2: R$ ${emolumentogleba2.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 3: R$ ${emolumentogleba3.toFixed(2)}<br>30 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Abertura das novas matrículas: R$ ${abertura.toFixed(2)}<br>Certificação do INCRA: R$ ${certificacao.toFixed(2)}<br>Certidões: R$ ${certidao.toFixed(2)}`;
                        }
                    break;
                    case '4':
                        certidao = certidao * 4;
                        abertura = abertura * 4;
                        if (tipoServico === 'desmembramentourbano'){
                            emolumentoFinal = emolumentogleba1 + emolumentogleba2 + emolumentogleba3 + emolumentogleba4 + prenotacao + arquivamento + certidao + abertura + desmembramento; 
                            document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`; 
                            document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação do desmembramento: R$ ${desmembramento.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 1: R$ ${emolumentogleba1.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 2: R$ ${emolumentogleba2.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 3: R$ ${emolumentogleba3.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 4: R$ ${emolumentogleba4.toFixed(2)}<br>30 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Abertura das novas matrículas: R$ ${abertura.toFixed(2)}<br>Certidões: R$ ${certidao.toFixed(2)}`;
                        }
                        if (tipoServico === 'desmembramentorural'){
                            emolumentoFinal = emolumentogleba1 + emolumentogleba2 + emolumentogleba3 + emolumentogleba4 + prenotacao + arquivamento + certidao + abertura + desmembramento + certificacao; 
                            document.getElementById('resultado').innerHTML = `O custo total estimado para o serviço é de R$ ${emolumentoFinal.toFixed(2)}`; 
                            document.getElementById('resultado2').innerHTML = `Descriminação dos valores <br><br>Prenotação: R$ ${prenotacao.toFixed(2)} <br>Averbação do desmembramento: R$ ${desmembramento.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 1: R$ ${emolumentogleba1.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 2: R$ ${emolumentogleba2.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 3: R$ ${emolumentogleba3.toFixed(2)}<br>Inserção de medidas perímetrais da gleba 4: R$ ${emolumentogleba4.toFixed(2)}<br>30 arquivamentos: R$ ${arquivamento.toFixed(2)}<br>Abertura das novas matrículas: R$ ${abertura.toFixed(2)}<br>Certificação do INCRA: R$ ${certificacao.toFixed(2)}<br>Certidões: R$ ${certidao.toFixed(2)}`;
                        }
                    break;

                }
            }


            result.style.display = 'block';
            result2.style.display = 'block';
        }
    
    </script>

</body>
</html>
